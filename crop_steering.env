# ================================================================
# CROP STEERING SYSTEM CONFIGURATION
# ================================================================
# ğŸ“ SETUP INSTRUCTIONS:
# 1. Copy this file: cp crop_steering.env my_crop_steering.env
# 2. Edit YOUR file with your Home Assistant entity IDs
# 3. Run setup script: python configure_crop_steering.py my_crop_steering.env
# 4. Restart Home Assistant
# ================================================================
#
# ğŸ” HOW TO FIND ENTITY IDs:
# - Go to Developer Tools > States in Home Assistant
# - Search for your device names (pump, valve, sensor)
# - Copy the full entity ID (e.g. switch.irrigation_pump)
# - Paste below, replacing the example values
#
# ğŸ’¡ WHAT GETS CONFIGURED:
# This script will automatically set up 50+ Home Assistant entities
# based on your hardware configuration below. No manual YAML editing!
# ================================================================

# ================================================================
# ğŸš° IRRIGATION HARDWARE CONTROL (REQUIRED)
# ================================================================
# These control your physical irrigation system. The startup sequence is:
# 1. PUMP_SWITCH turns on (provides water pressure)
# 2. MAIN_LINE_SWITCH opens (allows water to grow area) 
# 3. ZONE_X_SWITCH opens (waters specific zone)
# Shutdown is reverse order with delays for pressure relief.

# ğŸ”§ PUMP_SWITCH - Main irrigation pump power
# â”—â” Controls: Primary water pump or master irrigation switch
# â”—â” Impact: Must be ON for any irrigation to work
# â”—â” Safety: System checks this is OFF before starting new cycle
# â”—â” Example: switch.irrigation_pump_main
PUMP_SWITCH=switch.f1_irrigation_pump_master_switch

# ğŸ”§ MAIN_LINE_SWITCH - Main water line valve to grow area
# â”—â” Controls: Master valve that opens water flow to entire grow area
# â”—â” Impact: Must be ON for water to reach any zones
# â”—â” Timing: Opens 1 second after pump starts
# â”—â” Example: switch.main_line_valve
MAIN_LINE_SWITCH=switch.espoe_irrigation_relay_1_2

# ğŸ”§ ZONE_1_SWITCH - Zone 1 irrigation valve (REQUIRED for Zone 1)
# â”—â” Controls: Specific valve for irrigation zone/table 1
# â”—â” Impact: Must be configured if you want to irrigate Zone 1
# â”—â” Timing: Opens 2 seconds after main line valve
# â”—â” Example: switch.zone_1_valve
ZONE_1_SWITCH=switch.f1_irrigation_relays_relay_1

# ğŸ”§ ZONE_2_SWITCH - Zone 2 irrigation valve (Optional)
# â”—â” Controls: Specific valve for irrigation zone/table 2
# â”—â” Impact: Leave empty if you don't have Zone 2
# â”—â” Note: You can enable/disable zones in the dashboard later
# â”—â” NOTE: Zone 2 uses relay_3 per your hardware setup
ZONE_2_SWITCH=switch.f1_irrigation_relays_relay_3

# ğŸ”§ ZONE_3_SWITCH - Zone 3 irrigation valve (Optional)
# â”—â” Controls: Specific valve for irrigation zone/table 3
# â”—â” Impact: Leave empty if you don't have Zone 3
# â”—â” Note: System supports up to 3 zones maximum
# â”—â” NOTE: Zone 3 uses relay_2 per your hardware setup
ZONE_3_SWITCH=switch.f1_irrigation_relays_relay_2

# ğŸ”§ WASTE_SWITCH - Waste/drain valve (Optional)
# â”—â” Controls: Valve for flushing system or draining to waste
# â”—â” Impact: System will turn this OFF before irrigation starts
# â”—â” Usage: Useful for system maintenance and flushing
# â”—â” Example: switch.waste_drain_valve (leave empty if not used)
WASTE_SWITCH=

# ================================================================
# ğŸ“Š SENSOR CONFIGURATION (REQUIRED FOR CROP STEERING)
# ================================================================
# These sensors enable the system to make smart irrigation decisions.
# The system combines front/back sensors per zone for more accurate readings.
# Minimum: Need at least 1 VWC and 1 EC sensor per active zone.

# ğŸŒ¡ï¸ ZONE 1 SENSORS (Required if using Zone 1)
# The system will average front/back sensors for better accuracy.
# If you only have one sensor per type, put it in FRONT and leave BACK empty.

# ğŸ“Š ZONE_1_VWC_FRONT - Zone 1 moisture sensor (front location)
# â”—â” Measures: Volumetric Water Content (0-100% moisture)
# â”—â” Impact: Primary input for irrigation timing decisions
# â”—â” Location: Front of growing container/table in Zone 1
# â”—â” Example: sensor.zone1_moisture_front
ZONE_1_VWC_FRONT=sensor.z1_vwc_front

# ğŸ“Š ZONE_1_VWC_BACK - Zone 1 moisture sensor (back location)
# â”—â” Measures: Volumetric Water Content (0-100% moisture)  
# â”—â” Impact: Averaged with FRONT sensor for better accuracy
# â”—â” Location: Back of growing container/table in Zone 1
# â”—â” Note: Leave empty if you only have one VWC sensor in Zone 1
ZONE_1_VWC_BACK=sensor.z1_vwc_back

# âš¡ ZONE_1_EC_FRONT - Zone 1 nutrient sensor (front location)
# â”—â” Measures: Electrical Conductivity (0-10+ mS/cm nutrient strength)
# â”—â” Impact: Controls nutrient management and EC stacking features
# â”—â” Location: Front of growing container/table in Zone 1
# â”—â” Example: sensor.zone1_ec_front
ZONE_1_EC_FRONT=sensor.z1_ec_front

# âš¡ ZONE_1_EC_BACK - Zone 1 nutrient sensor (back location)
# â”—â” Measures: Electrical Conductivity (0-10+ mS/cm nutrient strength)
# â”—â” Impact: Averaged with FRONT sensor for nutrient decisions
# â”—â” Location: Back of growing container/table in Zone 1
# â”—â” Note: Leave empty if you only have one EC sensor in Zone 1
ZONE_1_EC_BACK=sensor.z1_ec_back

# ğŸŒ¡ï¸ ZONE 2 SENSORS (Optional - only if you have Zone 2)
# Configure these only if you have a second irrigation zone/table.

# ğŸ“Š ZONE_2_VWC_FRONT - Zone 2 moisture sensor (front location)
# â”—â” Measures: Volumetric Water Content for Zone 2
# â”—â” Impact: Independent irrigation control for Zone 2
# â”—â” Note: Leave empty if you don't have Zone 2
# â”—â” Example: sensor.zone2_moisture_front
ZONE_2_VWC_FRONT=sensor.z2_vwc_front

# ğŸ“Š ZONE_2_VWC_BACK - Zone 2 moisture sensor (back location)
# â”—â” Measures: Volumetric Water Content for Zone 2 (back)
# â”—â” Impact: Averaged with FRONT for Zone 2 decisions
# â”—â” Note: Leave empty if no back sensor in Zone 2
ZONE_2_VWC_BACK=sensor.z2_vwc_back

# âš¡ ZONE_2_EC_FRONT - Zone 2 nutrient sensor (front location)
# â”—â” Measures: Electrical Conductivity for Zone 2
# â”—â” Impact: Independent nutrient management for Zone 2
# â”—â” Note: Leave empty if you don't have Zone 2
# â”—â” Example: sensor.zone2_ec_front
ZONE_2_EC_FRONT=sensor.z2_ec_front

# âš¡ ZONE_2_EC_BACK - Zone 2 nutrient sensor (back location)
# â”—â” Measures: Electrical Conductivity for Zone 2 (back)
# â”—â” Impact: Averaged with FRONT for Zone 2 nutrient decisions
# â”—â” Note: Leave empty if no back sensor in Zone 2
ZONE_2_EC_BACK=sensor.z2_ec_back

# ğŸŒ¡ï¸ ZONE 3 SENSORS (Optional - only if you have Zone 3)
# Configure these only if you have a third irrigation zone/table.

# ğŸ“Š ZONE_3_VWC_FRONT - Zone 3 moisture sensor (front location)
# â”—â” Measures: Volumetric Water Content for Zone 3
# â”—â” Impact: Independent irrigation control for Zone 3
# â”—â” Note: Leave empty if you don't have Zone 3
# â”—â” Example: sensor.zone3_moisture_front
ZONE_3_VWC_FRONT=sensor.z3_vwc_front

# ğŸ“Š ZONE_3_VWC_BACK - Zone 3 moisture sensor (back location)
# â”—â” Measures: Volumetric Water Content for Zone 3 (back)
# â”—â” Impact: Averaged with FRONT for Zone 3 decisions
# â”—â” Note: Leave empty if no back sensor in Zone 3
ZONE_3_VWC_BACK=sensor.z3_vwc_back

# âš¡ ZONE_3_EC_FRONT - Zone 3 nutrient sensor (front location)
# â”—â” Measures: Electrical Conductivity for Zone 3
# â”—â” Impact: Independent nutrient management for Zone 3
# â”—â” Note: Leave empty if you don't have Zone 3
# â”—â” Example: sensor.zone3_ec_front
ZONE_3_EC_FRONT=sensor.z3_ec_front

# âš¡ ZONE_3_EC_BACK - Zone 3 nutrient sensor (back location)
# â”—â” Measures: Electrical Conductivity for Zone 3 (back)
# â”—â” Impact: Averaged with FRONT for Zone 3 nutrient decisions
# â”—â” Note: Leave empty if no back sensor in Zone 3
ZONE_3_EC_BACK=sensor.z3_ec_back

# ================================================================
# ğŸ’¡ LIGHTING SYSTEM (Optional but Recommended)
# ================================================================
# The crop steering system uses light timing to determine irrigation phases:
# - P0 starts when lights turn on (morning dryback)
# - P3 ends before lights turn off (evening preparation)

# ğŸ’¡ LIGHT_ENTITY - Main grow light control entity
# â”—â” Purpose: System uses this to detect day/night cycles
# â”—â” Impact: Critical for automatic phase transitions (P0â†’P1â†’P2â†’P3)
# â”—â” Usage: Must be ON during growing day, OFF during night
# â”—â” Example: light.grow_room_lights
# â”—â” Note: Leave empty to use manual phase control only
LIGHT_ENTITY=light.grow_lights

# ğŸ• LIGHTS_ON_TIME - Scheduled lights-on time (Optional)
# â”—â” Purpose: Alternative to light entity for phase timing
# â”—â” Impact: System starts P0 phase at this time daily
# â”—â” Usage: Use if you have scheduled light timing in HA
# â”—â” Example: input_datetime.lights_on_schedule
# â”—â” Note: Leave empty if using LIGHT_ENTITY above
LIGHTS_ON_TIME=input_datetime.lights_on

# ğŸ• LIGHTS_OFF_TIME - Scheduled lights-off time (Optional)
# â”—â” Purpose: Alternative to light entity for phase timing
# â”—â” Impact: System enters P3 phase before this time
# â”—â” Usage: Use if you have scheduled light timing in HA
# â”—â” Example: input_datetime.lights_off_schedule
# â”—â” Note: Leave empty if using LIGHT_ENTITY above
LIGHTS_OFF_TIME=input_datetime.lights_off

# ================================================================
# ğŸŒ¡ï¸ ENVIRONMENTAL SENSORS (Optional for Analytics)
# ================================================================
# These sensors enhance the system with environmental monitoring.
# They don't control irrigation but provide valuable data and analytics.

# ğŸŒ¡ï¸ TEMPERATURE_SENSOR - Grow room temperature
# â”—â” Purpose: Environmental monitoring and VPD calculations
# â”—â” Impact: Displayed in dashboard, used for analytics
# â”—â” Range: Typically 18-30Â°C (65-85Â°F) for optimal growing
# â”—â” Example: sensor.grow_room_temperature
# â”—â” Note: Leave empty if you don't have temperature monitoring
TEMPERATURE_SENSOR=sensor.grow_room_temperature

# ğŸ’§ HUMIDITY_SENSOR - Grow room relative humidity
# â”—â” Purpose: Environmental monitoring and VPD calculations
# â”—â” Impact: Displayed in dashboard, used for analytics
# â”—â” Range: Typically 40-70% RH depending on growth stage
# â”—â” Example: sensor.grow_room_humidity
# â”—â” Note: Leave empty if you don't have humidity monitoring
HUMIDITY_SENSOR=sensor.grow_room_humidity

# ğŸŒªï¸ VPD_SENSOR - Vapor Pressure Deficit (Advanced)
# â”—â” Purpose: Advanced environmental metric for transpiration
# â”—â” Impact: Displayed in dashboard for advanced users
# â”—â” Range: Typically 0.8-1.2 kPa for optimal plant transpiration
# â”—â” Example: sensor.grow_room_vpd
# â”—â” Note: Leave empty if you don't calculate VPD
VPD_SENSOR=sensor.grow_room_vpd

# ğŸš° WATER_LEVEL_SENSOR - Water reservoir level (Optional)
# â”—â” Purpose: Monitor water tank level for refill alerts
# â”—â” Impact: Displayed in dashboard, can trigger low water alerts
# â”—â” Range: 0-100% or actual volume depending on sensor
# â”—â” Example: sensor.water_tank_level
# â”—â” Note: Leave empty if you don't monitor water levels
WATER_LEVEL_SENSOR=sensor.water_tank_level

# ================================================================
# ğŸ›ï¸ SYSTEM PREFERENCES (Defaults - can change in dashboard later)
# ================================================================
# These set the initial system configuration. You can modify these
# settings later through the Home Assistant dashboard interface.

# ğŸŒ± DEFAULT_CROP_TYPE - Initial crop profile selection
# â”—â” Purpose: Sets default irrigation parameters for your crop type
# â”—â” Impact: Determines initial VWC/EC targets and timing parameters
# â”—â” Options: Cannabis_Athena, Cannabis_Hybrid, Cannabis_Indica, Cannabis_Sativa, Tomato, Lettuce, Basil, Custom
# â”—â” Cannabis_Athena: Athena Nutrients methodology (3.0 EC baseline, high VWC)
# â”—â” Cannabis_Hybrid: Balanced parameters suitable for most cannabis strains
# â”—â” Cannabis_Indica: Slightly higher moisture, shorter drybacks
# â”—â” Cannabis_Sativa: Lower moisture, longer drybacks for structure
# â”—â” Tomato: High frequency, moderate EC for fruit production
# â”—â” Lettuce: High moisture, low EC for leafy growth
# â”—â” Custom: Use your own manually configured parameters
DEFAULT_CROP_TYPE=Cannabis_Athena

# ğŸŒ¿ DEFAULT_STEERING_MODE - Initial growth steering mode
# â”—â” Purpose: Sets whether to focus on vegetative or generative growth
# â”—â” Impact: Determines dryback targets and EC levels
# â”—â” Options: Vegetative, Generative
# â”—â” Vegetative: Higher moisture, lower EC - builds plant structure
# â”—â” Generative: Lower moisture, higher EC - promotes flowering/fruiting
# â”—â” Note: You can switch this daily based on growth stage
DEFAULT_STEERING_MODE=Vegetative

# ğŸ”¬ ENABLE_EC_STACKING - Advanced nutrient management feature
# â”—â” Purpose: Allows strategic EC buildup for generative steering
# â”—â” Impact: Modifies irrigation thresholds to build substrate EC
# â”—â” Options: true, false
# â”—â” Requires: AppDaemon app for advanced logic
# â”—â” Use case: Advanced users wanting precise nutrient control
ENABLE_EC_STACKING=false

# ğŸ“Š ENABLE_ANALYTICS - Performance tracking and analytics
# â”—â” Purpose: Tracks irrigation efficiency, water usage, trends
# â”—â” Impact: Creates additional sensors for performance monitoring
# â”—â” Options: true, false
# â”—â” Benefits: Historical data, efficiency metrics, troubleshooting
# â”—â” Recommended: true (minimal performance impact)
ENABLE_ANALYTICS=true

# ğŸ¤– ENABLE_ML_FEATURES - Machine learning analytics (Experimental)
# â”—â” Purpose: Predictive analytics and pattern recognition
# â”—â” Impact: Creates ML-based prediction sensors (experimental)
# â”—â” Options: true, false
# â”—â” Status: Beta feature, may have performance impact
# â”—â” Recommended: false unless you want to test experimental features
ENABLE_ML_FEATURES=false

# ğŸ“¡ ENABLE_MQTT_MONITORING - Remote monitoring via MQTT
# â”—â” Purpose: Publish system data to MQTT for external monitoring
# â”—â” Impact: Sends data to MQTT broker for remote access/logging
# â”—â” Options: true, false
# â”—â” Use case: Remote monitoring, data logging, integration with other systems
# â”—â” Requires: MQTT broker configuration in Home Assistant
ENABLE_MQTT_MONITORING=false

# ================================================================
# âš™ï¸ IRRIGATION PARAMETERS (Initial values - fine-tune via dashboard)
# ================================================================
# These parameters control the irrigation behavior. Set reasonable starting
# values here, then fine-tune through the Home Assistant dashboard.

# ğŸª´ SUBSTRATE PROPERTIES (Critical - measure your setup accurately)

# ğŸª´ SUBSTRATE_VOLUME_LITERS - Container volume in liters
# â”—â” Purpose: Calculates shot sizes as percentage of container volume
# â”—â” Impact: Directly affects irrigation volume calculations
# â”—â” How to measure: Length Ã— Width Ã— Height of growing container
# â”—â” Example: 3.8L (1-gallon pot), 10L (2.5-gallon), 15L (4-gallon)
# â”—â” Critical: Must be accurate for proper irrigation amounts
SUBSTRATE_VOLUME_LITERS=10.0

# ğŸ’§ DRIPPER_FLOW_RATE_LPH - Dripper flow rate in liters per hour
# â”—â” Purpose: Converts shot percentages to irrigation duration (time)
# â”—â” Impact: Determines how long irrigation runs for each shot
# â”—â” How to measure: Time how long to fill 1L container, calculate L/hr
# â”—â” Example: 2.0 L/hr (common), 4.0 L/hr (faster), 1.0 L/hr (slower)
# â”—â” Critical: Inaccurate values cause wrong irrigation amounts
DRIPPER_FLOW_RATE_LPH=2.0

# ğŸ’§ SUBSTRATE_FIELD_CAPACITY - Maximum water holding capacity (%)
# â”—â” Purpose: Prevents over-watering by setting maximum VWC target  
# â”—â” Impact: System won't irrigate if VWC exceeds this value
# â”—â” Athena Method: 70% maximum for high-frequency irrigation
# â”—â” Typical values: Coco coir: 65-70%, Rockwool: 80-85%, Perlite mix: 60-65%
# â”—â” How to set: Saturate substrate, let drain 30 min, measure VWC
SUBSTRATE_FIELD_CAPACITY=70

# âš¡ SUBSTRATE_MAX_EC - Maximum safe EC level (mS/cm)
# â”—â” Purpose: Safety limit to prevent nutrient burn
# â”—â” Impact: System won't irrigate if substrate EC exceeds this
# â”—â” Athena Method: 8-9 mS/cm for advanced generative steering
# â”—â” Typical values: Cannabis: 8-9, Tomato: 3-5, Lettuce: 2-3
# â”—â” Note: Athena's high-EC methodology requires salt-tolerant genetics
SUBSTRATE_MAX_EC=9.0

# ğŸ“… P0 PHASE - Morning Dryback (Fine-tune based on plant response)

# ğŸŒ… P0_VEG_DRYBACK_TARGET - Vegetative mode dryback target (% VWC)
# â”—â” Purpose: How much moisture to remove during morning dryback
# â”—â” Impact: Lower = more dryback stress, higher = less stress
# â”—â” Athena Method: 50% minimum VWC (10-15% dryback from 60-65%)
# â”—â” Vegetative range: 45-50% VWC minimum (promotes leaf/stem growth)
# â”—â” Start conservative (higher) and adjust based on plant response
P0_VEG_DRYBACK_TARGET=50

# ğŸŒ¸ P0_GEN_DRYBACK_TARGET - Generative mode dryback target (% VWC)
# â”—â” Purpose: How much moisture to remove for flowering/fruiting
# â”—â” Impact: Lower = more generative stress (more flowers/fruit)
# â”—â” Athena Method: 40% minimum VWC (15-20% dryback from 55-60%)
# â”—â” Generative range: 40-45% VWC minimum (promotes reproductive growth)
# â”—â” Use when you want more flowers/fruit production
P0_GEN_DRYBACK_TARGET=40

# â° P0_MIN_WAIT_TIME - Minimum time in P0 phase (minutes)
# â”—â” Purpose: Ensures minimum dryback duration regardless of VWC
# â”—â” Impact: Prevents rushed transitions to P1
# â”—â” Typical range: 30-60 minutes
# â”—â” Longer = more predictable timing, shorter = more responsive
P0_MIN_WAIT_TIME=30

# â° P0_MAX_WAIT_TIME - Maximum time in P0 phase (minutes)
# â”—â” Purpose: Safety timeout to prevent excessive dryback
# â”—â” Impact: Forces transition to P1 even if target not reached
# â”—â” Typical range: 90-180 minutes
# â”—â” Critical: Prevents plant stress from over-drying
P0_MAX_WAIT_TIME=120

# ğŸ“ˆ P1 PHASE - Ramp-Up (Gradual rehydration parameters)

# ğŸ’§ P1_INITIAL_SHOT_SIZE_PERCENT - First shot size (% of container volume)
# â”—â” Purpose: Size of first irrigation shot in P1
# â”—â” Impact: Start rehydration gently to avoid shocking roots
# â”—â” Typical range: 1-3% (small start, builds up gradually)
P1_INITIAL_SHOT_SIZE_PERCENT=2.0

# ğŸ“Š P1_SHOT_SIZE_INCREMENT - Shot size increase per shot (%)
# â”—â” Purpose: How much bigger each subsequent shot gets
# â”—â” Impact: Controls ramp-up speed (fast vs slow rehydration)
# â”—â” Typical range: 0.5-1.5% (gradual increase)
P1_SHOT_SIZE_INCREMENT=0.5

# ğŸ” P1_MAX_SHOT_SIZE_PERCENT - Maximum shot size in P1 (%)
# â”—â” Purpose: Limits shot size during ramp-up phase
# â”—â” Impact: Prevents over-watering during rehydration
# â”—â” Typical range: 8-15% (reasonable upper limit)
P1_MAX_SHOT_SIZE_PERCENT=10.0

# â±ï¸ P1_TIME_BETWEEN_SHOTS - Minutes between P1 shots
# â”—â” Purpose: Pacing of rehydration shots
# â”—â” Impact: Faster = quicker rehydration, slower = more gradual
# â”—â” Typical range: 10-20 minutes (allows substrate equilibration)
P1_TIME_BETWEEN_SHOTS=15

# ğŸ¯ P1_TARGET_VWC - Target VWC to transition to P2 (%)
# â”—â” Purpose: VWC level that triggers P1â†’P2 transition
# â”—â” Impact: Controls when maintenance phase begins
# â”—â” Athena Method: 65-70% VWC for optimal nutrient uptake
# â”—â” Typical range: 60-70% (healthy hydrated level for high-EC feeding)
P1_TARGET_VWC=65

# ğŸ”¢ P1_MAX_SHOTS - Maximum shots before forcing P2 transition
# â”—â” Purpose: Safety limit to prevent endless P1 cycling
# â”—â” Impact: Forces P2 even if VWC target not reached
# â”—â” Typical range: 4-8 shots (reasonable rehydration period)
P1_MAX_SHOTS=6

# ğŸ”¢ P1_MIN_SHOTS - Minimum shots before allowing P2 transition
# â”—â” Purpose: Ensures adequate rehydration time
# â”—â” Impact: Prevents premature P2 transition on sensor spikes
# â”—â” Typical range: 2-4 shots (minimum rehydration effort)
P1_MIN_SHOTS=3

# ğŸ”„ P2 PHASE - Maintenance (Steady-state irrigation parameters)

# ğŸ’§ P2_SHOT_SIZE_PERCENT - Standard shot size during maintenance (%)
# â”—â” Purpose: Regular irrigation shot size for maintaining VWC
# â”—â” Impact: Larger = fewer shots needed, smaller = more frequent
# â”—â” Typical range: 3-8% (efficient maintenance irrigation)
P2_SHOT_SIZE_PERCENT=5.0

# ğŸ“Š P2_VWC_THRESHOLD - Base VWC threshold for irrigation trigger (%)
# â”—â” Purpose: VWC level that triggers irrigation in P2
# â”—â” Impact: Lower = drier growing, higher = moister growing
# â”—â” Athena Method: 55-60% VWC minimum (adjusted by EC levels automatically)
# â”—â” Typical range: 55-65% (maintains optimal moisture for high-EC feeding)
P2_VWC_THRESHOLD=60

# âš¡ P2_EC_HIGH_THRESHOLD - EC ratio considered "high" (ratio)
# â”—â” Purpose: When substrate EC is high vs target, adjust irrigation
# â”—â” Impact: Higher EC = raise VWC threshold (less irrigation)
# â”—â” Typical range: 1.1-1.3 (10-30% above target)
P2_EC_HIGH_THRESHOLD=1.2

# âš¡ P2_EC_LOW_THRESHOLD - EC ratio considered "low" (ratio)
# â”—â” Purpose: When substrate EC is low vs target, adjust irrigation
# â”—â” Impact: Lower EC = lower VWC threshold (more irrigation)
# â”—â” Typical range: 0.7-0.9 (10-30% below target)
P2_EC_LOW_THRESHOLD=0.8

# ğŸŒ… P3 PHASE - Pre-Lights-Off (Evening preparation parameters)

# ğŸŒ¿ P3_VEG_LAST_IRRIGATION - Last irrigation before lights off - Vegetative (minutes)
# â”—â” Purpose: How long before lights-off to stop irrigating in veg mode
# â”—â” Impact: Longer = more evening dryback time
# â”—â” Vegetative: 60-120 minutes (moderate evening preparation)
P3_VEG_LAST_IRRIGATION=120

# ğŸŒ¸ P3_GEN_LAST_IRRIGATION - Last irrigation before lights off - Generative (minutes)
# â”—â” Purpose: How long before lights-off to stop irrigating in gen mode
# â”—â” Impact: Longer = more generative stress overnight
# â”—â” Generative: 120-240 minutes (extended dryback for flowering)
P3_GEN_LAST_IRRIGATION=180

# ğŸš¨ P3_EMERGENCY_VWC_THRESHOLD - Emergency irrigation trigger (% VWC)
# â”—â” Purpose: Safety threshold for emergency irrigation during P3
# â”—â” Impact: Prevents plant stress from excessive overnight drying
# â”—â” Athena Method: 40% VWC minimum to prevent root zone damage
# â”—â” Typical range: 40-45% VWC (critical drought stress prevention)
P3_EMERGENCY_VWC_THRESHOLD=40

# ğŸš¨ P3_EMERGENCY_SHOT_SIZE_PERCENT - Emergency shot size (%)
# â”—â” Purpose: Size of emergency irrigation shots in P3
# â”—â” Impact: Just enough to prevent stress, not full rehydration
# â”—â” Typical range: 1-3% (small rescue shots)
P3_EMERGENCY_SHOT_SIZE_PERCENT=2.0

# âš¡ EC TARGETS - Nutrient concentration targets for each phase and mode

# ğŸŒ¿ VEGETATIVE EC TARGETS (Athena 3.0 EC Baseline for structure building)
# Vegetative mode promotes leaf and stem growth with Athena's high-nutrition approach

# âš¡ EC_TARGET_VEG_P0 - Vegetative P0 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during vegetative morning dryback
# â”—â” Athena Method: 3.0 EC baseline maintains consistent nutrition
EC_TARGET_VEG_P0=3.0

# âš¡ EC_TARGET_VEG_P1 - Vegetative P1 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during vegetative ramp-up
# â”—â” Athena Method: 3.0-3.2 EC for optimal rehydration
EC_TARGET_VEG_P1=3.0

# âš¡ EC_TARGET_VEG_P2 - Vegetative P2 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during vegetative maintenance
# â”—â” Athena Method: 3.2 EC for consistent vegetative nutrition
EC_TARGET_VEG_P2=3.2

# âš¡ EC_TARGET_VEG_P3 - Vegetative P3 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during vegetative evening
# â”—â” Athena Method: 3.0 EC for evening stability
EC_TARGET_VEG_P3=3.0

# ğŸŒ¸ GENERATIVE EC TARGETS (Athena High-EC Stacking for flowering/fruiting)
# Generative mode promotes flower and fruit production with strategic EC accumulation

# âš¡ EC_TARGET_GEN_P0 - Generative P0 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during generative morning dryback
# â”—â” Athena Method: 4.0 EC allows overnight accumulation
EC_TARGET_GEN_P0=4.0

# âš¡ EC_TARGET_GEN_P1 - Generative P1 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during generative ramp-up
# â”—â” Athena Method: 5.0 EC builds foundation for P2 stacking
EC_TARGET_GEN_P1=5.0

# âš¡ EC_TARGET_GEN_P2 - Generative P2 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during generative maintenance
# â”—â” Athena Method: 6.0 EC peak accumulation for maximum stress
EC_TARGET_GEN_P2=6.0

# âš¡ EC_TARGET_GEN_P3 - Generative P3 target EC (mS/cm)
# â”—â” Purpose: Target substrate EC during generative evening
# â”—â” Athena Method: 4.5 EC maintains stress without toxicity
EC_TARGET_GEN_P3=4.5

# ================================================================
# NOTES
# ================================================================
# 1. All sensor entities must exist in Home Assistant
# 2. Switch entities will be tested for basic on/off functionality
# 3. VWC sensors should report 0-100% moisture
# 4. EC sensors should report in mS/cm (millisiemens per centimeter)
# 5. Empty values will disable those features/zones
# 6. Run 'python configure_crop_steering.py' after editing this file